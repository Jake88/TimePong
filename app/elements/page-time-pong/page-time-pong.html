<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-styles/typography.html">

<dom-module id="page-time-pong">
  <template>
    <style include="shared-styles">
      :host div.content {
        height: 100%;
        width: 100%;
        max-width: 400px;
        margin: auto;
        transition: all .5s linear;
        position: relative;
      }

    </style>

    <div class="content">
      <section data-route="home">
        <div class="effects-container">
          <time-pong-effect-card id="spellEffect" data="{{currentEffects.spell}}" label="Spell" index="0"></time-pong-effect-card>
          <time-pong-effect-card id="curseEffect" data="{{currentEffects.curse}}" label="Curse" index="1"></time-pong-effect-card>
        </div>

        <app-timer is-running="{{isTimerRunning}}"></app-timer>

        <time-pong-deck
          current-effects="{{currentEffects}}">
        </time-pong-deck>
      </section>
    </div>
  </template>

  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'page-time-pong',

        properties: {
          currentEffects: {
            type: Object,
            notify: true,
            value: function() { return {};}
          }
        },

        ready: function() {
          this.addEventListener('round-end', function() {
            this.$.spellEffect.roundEnd();
            this.$.curseEffect.roundEnd();
          });
        }
      });
    })();
  </script>
</dom-module>
